// ===== components/_forms.scss =====

// ===== FORMULARIO DE CONTACTO =====
.formulario-contacto {
    background: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(10px);
    border-radius: 20px;
    padding: spacing('8');
    box-shadow: 0 10px 30px rgba(color('primary'), 0.1);
    border: 1px solid rgba(color('primary'), 0.2);

    h2 {
        color: color('primary');
        margin-bottom: spacing('8');
        padding-left: 0;

        &::before {
            display: none;
        }

        i {
            margin-right: spacing('2');
            font-size: font-size('xl');
        }
    }

    .form-contacto {
        display: flex;
        flex-direction: column;
        gap: spacing('6');

        .form-group {
            display: flex;
            flex-direction: column;

            label {
                font-weight: 600;
                color: color('accent-brown');
                margin-bottom: spacing('2');
                font-size: font-size('sm');
            }

            input,
            select,
            textarea {
                padding: spacing('3') spacing('4');
                border: 2px solid rgba(color('primary'), 0.2);
                border-radius: $border-radius-small;
                background: rgba(255, 255, 255, 0.9);
                font-family: $font-family;
                font-size: font-size('base');
                color: color('medium-brown');
                transition: $transition-smooth;

                &:focus {
                    outline: none;
                    border-color: color('primary');
                    box-shadow: 0 0 0 3px rgba(color('primary'), 0.1);
                    transform: translateY(-2px);
                }

                &::placeholder {
                    color: rgba(color('medium-brown'), 0.6);
                }
            }

            textarea {
                resize: vertical;
                min-height: 120px;
                font-family: $font-family;
            }

            select {
                cursor: pointer;
                background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%23ff6b35' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
                background-position: right spacing('3') center;
                background-repeat: no-repeat;
                background-size: 1.5em 1.5em;
                padding-right: spacing('10');
                appearance: none;
            }
        }

        // CHECKBOX PERSONALIZADO
        .checkbox-container {
            display: flex !important;
            flex-direction: row !important;
            align-items: center;
            cursor: pointer;
            font-size: font-size('sm');
            color: color('medium-brown');

            input[type="checkbox"] {
                display: none;

                &:checked+.checkmark {
                    background-color: color('primary');
                    border-color: color('primary');

                    &::after {
                        display: block;
                        left: spacing('2');
                        top: 2px;
                        width: 5px;
                        height: 10px;
                        border: solid white;
                        border-width: 0 3px 3px 0;
                        transform: rotate(45deg);
                    }
                }
            }

            .checkmark {
                width: 20px;
                height: 20px;
                border: 2px solid color('primary');
                border-radius: 4px;
                margin-right: spacing('3');
                position: relative;
                transition: $transition-smooth;

                &::after {
                    content: "";
                    position: absolute;
                    display: none;
                }

                &:hover {
                    border-color: color('secondary');
                }
            }

            &:hover .checkmark {
                background-color: rgba(color('primary'), 0.1);
            }
        }

        // BOTÓN DE ENVÍO
        .btn-submit {
            @extend %button-base;
            background: #{gradient('primary')};
            align-self: flex-start;
            margin-top: spacing('4');
            @extend %hover-lift;

            &:disabled {
                opacity: 0.6;
                cursor: not-allowed;
                transform: none !important;
            }
        }
    }
}

// ===== ESTADOS DE VALIDACIÓN =====
.form-group {
    &.has-error {

        input,
        textarea,
        select {
            border-color: #e74c3c;
            box-shadow: 0 0 0 3px rgba(231, 76, 60, 0.1);
        }

        .error-message {
            color: #e74c3c;
            font-size: font-size('xs');
            margin-top: spacing('1');
            display: block;
        }
    }

    &.has-success {

        input,
        textarea,
        select {
            border-color: #27ae60;
            box-shadow: 0 0 0 3px rgba(39, 174, 96, 0.1);
        }
    }
}

// ===== INDICADOR DE CARGA =====
.loading {
    position: relative;
    pointer-events: none;

    &::after {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 20px;
        height: 20px;
        margin: -10px 0 0 -10px;
        border: 2px solid transparent;
        border-top: 2px solid white;
        border-radius: 50%;
        animation: spin 1s linear infinite;
    }
}

@keyframes spin {
    0% {
        transform: rotate(0deg);
    }

    100% {
        transform: rotate(360deg);
    }
}